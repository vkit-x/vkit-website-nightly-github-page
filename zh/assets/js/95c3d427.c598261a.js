"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[154],{3905:function(e,n,t){t.d(n,{Zo:function(){return k},kt:function(){return u}});var i=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,i,a=function(e,n){if(null==e)return{};var t,i,a={},l=Object.keys(e);for(i=0;i<l.length;i++)t=l[i],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)t=l[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=i.createContext({}),m=function(e){var n=i.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},k=function(e){var n=m(e.components);return i.createElement(p.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},s=i.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,k=o(e,["components","mdxType","originalType","parentName"]),s=m(t),u=a,N=s["".concat(p,".").concat(u)]||s[u]||d[u]||l;return t?i.createElement(N,r(r({ref:n},k),{},{components:t})):i.createElement(N,r({ref:n},k))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,r=new Array(l);r[0]=s;var o={};for(var p in n)hasOwnProperty.call(n,p)&&(o[p]=n[p]);o.originalType=e,o.mdxType="string"==typeof e?e:a,r[1]=o;for(var m=2;m<l;m++)r[m]=t[m];return i.createElement.apply(null,r)}return i.createElement.apply(null,t)}s.displayName="MDXCreateElement"},2386:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return o},contentTitle:function(){return p},metadata:function(){return m},toc:function(){return k},default:function(){return s}});var i=t(3117),a=t(102),l=(t(7294),t(3905)),r=["components"],o={},p="\u6807\u6ce8\u7c7b\u578b",m={unversionedId:"utility/label",id:"utility/label",title:"\u6807\u6ce8\u7c7b\u578b",description:"Point",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/utility/label.md",sourceDirName:"utility",slug:"/utility/label",permalink:"/zh/utility/label",editUrl:"https://github.com/vkit-x/vkit/edit/master/website/docs/utility/label.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"\u56fe\u50cf\u7c7b\u578b",permalink:"/zh/utility/image"}},k=[{value:"Point",id:"point",children:[],level:2},{value:"PointList",id:"pointlist",children:[],level:2},{value:"Box",id:"box",children:[],level:2},{value:"Polygon",id:"polygon",children:[],level:2},{value:"TextPolygon",id:"textpolygon",children:[],level:2},{value:"ImageMask",id:"imagemask",children:[],level:2},{value:"ImageScoreMap",id:"imagescoremap",children:[],level:2}],d={toc:k};function s(e){var n=e.components,t=(0,a.Z)(e,r);return(0,l.kt)("wrapper",(0,i.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"\u6807\u6ce8\u7c7b\u578b"},"\u6807\u6ce8\u7c7b\u578b"),(0,l.kt)("h2",{id:"point"},"Point"),(0,l.kt)("p",null,"import\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"from vkit.label.type import Point\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Point")," \u7528\u4e8e\u8868\u793a\u4e8c\u7ef4\u5e73\u9762\u4e0a\u7684\u70b9\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"@attr.define\nclass Point:\n    y: int\n    x: int\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Point")," \u7684\u65b9\u6cd5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.clone()")," \uff1a\u8fd4\u56de\u62f7\u8d1d"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_xy_pair()"),"\uff1a\u8fd4\u56de ",(0,l.kt)("inlineCode",{parentName:"li"},"(x, y)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_clipped_point(image: Image)"),"\uff1a\u751f\u6210\u65b0\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"Point")," \uff0c\u901a\u8fc7 clip \u64cd\u4f5c\u4fdd\u8bc1\u4e0d\u4f1a\u51fa\u73b0\u4f4d\u7f6e\u7684 overflow/underflow"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_resized_point(image: Image, resized_height: int, resized_width: int)"),"\uff1a\u57fa\u4e8e\u76ee\u6807\u7f29\u653e\u56fe\u7247\u7684\u9ad8\u5ea6\u4e0e\u5bbd\u5ea6\uff0c\u751f\u6210\u65b0\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"Point"),"\u3002",(0,l.kt)("inlineCode",{parentName:"li"},"image")," \u662f\u7f29\u653e\u524d\u56fe\u7247\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"resized_height")," \u4e0e ",(0,l.kt)("inlineCode",{parentName:"li"},"resized_width")," \u662f\u7f29\u653e\u540e\u7684\u56fe\u7247\u9ad8\u5ea6\u4e0e\u5bbd\u5ea6")),(0,l.kt)("h2",{id:"pointlist"},"PointList"),(0,l.kt)("p",null,"import\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"from vkit.label.type import PointList\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"PointList")," \u7528\u4e8e\u8868\u793a ",(0,l.kt)("inlineCode",{parentName:"p"},"Point")," \u6570\u7ec4\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"class PointList(List[Point]):\n    ...\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"PointList")," \u7684\u65b9\u6cd5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"PointList.from_np_array(np_points: np.ndarray)"),"\uff1a\u5c06 numpy array ",(0,l.kt)("inlineCode",{parentName:"li"},"(*, 2)")," \uff08",(0,l.kt)("inlineCode",{parentName:"li"},"[(x, y), ...]"),"\uff09\u8f6c\u6362\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"PointList")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"PointList.from_xy_pairs(xy_pairs: Iterable[Tuple[int, int]])"),"\uff1a \u5c06 ",(0,l.kt)("inlineCode",{parentName:"li"},"Iterable[Tuple[int, int]]")," \u8f6c\u6362\u4e3a  ",(0,l.kt)("inlineCode",{parentName:"li"},"PointList")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"PointList.from_flatten_xy_pairs(flatten_xy_pairs: Sequence[int])"),"\uff1a\u7c7b\u4f3c ",(0,l.kt)("inlineCode",{parentName:"li"},"PointList.from_xy_pairs"),"\uff0c\u4f46\u8f93\u5165\u5f62\u5f0f\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"[x0, y0, x1, y1, ...]")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"PointList.from_point(point: Point)"),"\uff1a\u8fd4\u56de\u5305\u542b ",(0,l.kt)("inlineCode",{parentName:"li"},"point")," \u4e3a\u552f\u4e00\u5143\u7d20\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"PointList")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.clone()"),"\uff1a\u8fd4\u56de\u62f7\u8d1d"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_xy_pairs()"),"\uff1a\u8f6c\u6362\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"List[Tuple[int, int]]")," \u683c\u5f0f\uff0c\u5373 ",(0,l.kt)("inlineCode",{parentName:"li"},"PointList.from_xy_pairs")," \u7684\u9006\u8fc7\u7a0b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_np_array()"),"\uff1a\u8f6c\u6362\u4e3a numpy array\uff0c\u5373 ",(0,l.kt)("inlineCode",{parentName:"li"},"PointList.from_np_array")," \u7684\u9006\u8fc7\u7a0b"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_clipped_points(image: Image)"),"\uff1a\u751f\u6210\u65b0\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"PointList")," \uff0c\u901a\u8fc7 clip \u64cd\u4f5c\u4fdd\u8bc1\u4e0d\u4f1a\u51fa\u73b0\u4f4d\u7f6e\u7684 overflow/underflow"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_resized_points(image: Image, resized_height: int, resized_width: int)"),"\uff1a\u57fa\u4e8e\u76ee\u6807\u7f29\u653e\u56fe\u7247\u7684\u9ad8\u5ea6\u4e0e\u5bbd\u5ea6\uff0c\u751f\u6210\u65b0\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"PointList"),"\u3002",(0,l.kt)("inlineCode",{parentName:"li"},"image")," \u662f\u7f29\u653e\u524d\u56fe\u7247\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"resized_height")," \u4e0e ",(0,l.kt)("inlineCode",{parentName:"li"},"resized_width")," \u662f\u7f29\u653e\u540e\u7684\u56fe\u7247\u9ad8\u5ea6\u4e0e\u5bbd\u5ea6")),(0,l.kt)("h2",{id:"box"},"Box"),(0,l.kt)("p",null,"import\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"from vkit.label.type import Box\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Box")," \u7528\u4e8e\u8868\u793a\u6a2a\u5e73\u7ad6\u76f4\u7684\u77e9\u5f62\u6807\u6ce8\u533a\u57df\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"@attr.define\nclass Box:\n    up: int\n    down: int\n    left: int\n    right: int\n")),(0,l.kt)("p",null,"\u5176\u4e2d\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"down")," \u4e0e ",(0,l.kt)("inlineCode",{parentName:"li"},"right")," \u7684\u8868\u793a\u662f\u95ed\u533a\u95f4\u7aef\u70b9")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Box")," \u7684\u5c5e\u6027\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"height"),"\uff1a\u9ad8\u5ea6\uff0c\u7c7b\u578b ",(0,l.kt)("inlineCode",{parentName:"li"},"int")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"width"),"\uff1a\u5bbd\u5ea6\uff0c\u7c7b\u578b ",(0,l.kt)("inlineCode",{parentName:"li"},"int")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"shape"),"\uff1a\uff08\u9ad8\u5ea6\uff0c\u5bbd\u5ea6\uff09\uff0c\u7c7b\u578b ",(0,l.kt)("inlineCode",{parentName:"li"},"Tuple[int, int]"))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Box"),"  \u7684\u65b9\u6cd5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.clone()"),"\uff1a\u8fd4\u56de\u62f7\u8d1d"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_clipped_box(image: Image)"),"\uff1a\u751f\u6210\u65b0\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"Box")," \uff0c\u901a\u8fc7 clip \u64cd\u4f5c\u4fdd\u8bc1\u4e0d\u4f1a\u51fa\u73b0\u4f4d\u7f6e\u7684 overflow/underflow"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.extract_image(image: Image)"),"\uff1a\u4ece ",(0,l.kt)("inlineCode",{parentName:"li"},"image")," \u4e2d\u62bd\u53d6 ",(0,l.kt)("inlineCode",{parentName:"li"},"Box"),"  \u5212\u5b9a\u7684\u533a\u57df\uff0c\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"Image"),"\u3002\u9700\u8981\u6ce8\u610f\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u4e0d\u4f1a\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684 numpy array\uff0c\u5982\u6709\u9700\u8981\u5f97\u663e\u5f0f\u5730\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"clone"))),(0,l.kt)("h2",{id:"polygon"},"Polygon"),(0,l.kt)("p",null,"import\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"from vkit.label.type import Polygon\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Polygon")," \u7528\u4e8e\u8868\u793a\u591a\u8fb9\u5f62\u6807\u6ce8\u533a\u57df\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"@attr.define\nclass Polygon:\n    points: PointList\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"Polygon")," \u7684\u65b9\u6cd5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Polygon.from_np_array(np_points: np.ndarray)"),"\uff1a\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"PointList.from_np_array")," \u751f\u6210 ",(0,l.kt)("inlineCode",{parentName:"li"},"self.points")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Polygon.from_xy_pairs(xy_pairs)"),"\uff1a\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"PointList.from_xy_pairs")," \u751f\u6210 ",(0,l.kt)("inlineCode",{parentName:"li"},"self.points")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Polygon.from_flatten_xy_pairs(xy_pairs: Sequence[int])"),"\uff1a\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"PointList.from_flatten_xy_pairs")," \u751f\u6210 ",(0,l.kt)("inlineCode",{parentName:"li"},"self.points")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_xy_pairs()"),"\u3001",(0,l.kt)("inlineCode",{parentName:"li"},"self.to_np_array()"),"\u3001",(0,l.kt)("inlineCode",{parentName:"li"},"self.to_clipped_points")," \u7686\u5728\u5185\u90e8\u8c03\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"PointList")," \u540c\u540d\u65b9\u6cd5\uff0c\u751f\u6210\u540c\u6837\u7c7b\u578b\u7684\u8f93\u51fa"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_clipped_polygon()")," \u4e0e ",(0,l.kt)("inlineCode",{parentName:"li"},"self.to_clipped_points()"),"\uff0c\u533a\u522b\u5728\u4e8e\u8fd4\u56de ",(0,l.kt)("inlineCode",{parentName:"li"},"Polygon")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_bounding_box_with_np_points(shift_np_points: bool = False)"),"\uff1a\u8fd4\u56de ",(0,l.kt)("inlineCode",{parentName:"li"},"Tuple[Box, np.ndarray]")," \uff0c\u5373\u5916\u63a5\u77e9\u5f62 ",(0,l.kt)("inlineCode",{parentName:"li"},"Box")," \u4e0e\u8f6c\u4e3a numpy array \u683c\u5f0f\u7684  ",(0,l.kt)("inlineCode",{parentName:"li"},"self.points"),"\u3002\u5982\u679c\u5c06 ",(0,l.kt)("inlineCode",{parentName:"li"},"shift_np_points")," \u8bbe\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"True"),"\uff0c\u5219\u4f1a\u5c06 numpy array \u4e2d\u79bb\u539f\u70b9\u6700\u8fd1\u7684\u70b9\u8bbe\u4e3a\u539f\u70b9\uff08shift \u81f3 ",(0,l.kt)("inlineCode",{parentName:"li"},"(0, 0)"),"\uff09"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_bounding_box()"),"\uff1a\u8fd4\u56de ",(0,l.kt)("inlineCode",{parentName:"li"},"self.to_bounding_box_with_np_points")," \u4e2d\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"Box")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_resized_polygon(image: Image, resized_height: int, resized_width: int)"),"\uff1a\u57fa\u4e8e\u76ee\u6807\u7f29\u653e\u56fe\u7247\u7684\u9ad8\u5ea6\u4e0e\u5bbd\u5ea6\uff0c\u751f\u6210\u65b0\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"Polygon"),"\u3002",(0,l.kt)("inlineCode",{parentName:"li"},"image")," \u662f\u7f29\u653e\u524d\u56fe\u7247\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"resized_height")," \u4e0e ",(0,l.kt)("inlineCode",{parentName:"li"},"resized_width")," \u662f\u7f29\u653e\u540e\u7684\u56fe\u7247\u9ad8\u5ea6\u4e0e\u5bbd\u5ea6"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.clone()"),"\uff1a\u8fd4\u56de\u62f7\u8d1d")),(0,l.kt)("h2",{id:"textpolygon"},"TextPolygon"),(0,l.kt)("p",null,"import\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"from vkit.label.type import TextPolygon\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"TextPolygon")," \u7528\u4e8e\u8868\u793a\u5e26\u6587\u672c\u6807\u6ce8\u7684\u591a\u8fb9\u5f62\u6807\u6ce8\u533a\u57df\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"@attr.define\nclass TextPolygon:\n    text: str\n    polygon: Polygon\n    meta: Optional[Dict[str, Any]] = None\n")),(0,l.kt)("p",null,"\u5176\u4e2d\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"text"),"\uff1a\u5fc5\u987b\u4e0d\u4e3a\u7a7a"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"meta"),"\uff1a\u53ef\u9009\u3002\u7528\u4e8e\u5b58\u50a8\u989d\u5916\u5b57\u6bb5")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"TextPolygon")," \u7684\u65b9\u6cd5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_resized_text_polygon(image: Image, resized_height: int, resized_width: int)"),"\uff1a\u57fa\u4e8e\u76ee\u6807\u7f29\u653e\u56fe\u7247\u7684\u9ad8\u5ea6\u4e0e\u5bbd\u5ea6\uff0c\u751f\u6210\u65b0\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"TextPolygon"),"\u3002",(0,l.kt)("inlineCode",{parentName:"li"},"image")," \u662f\u7f29\u653e\u524d\u56fe\u7247\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"resized_height")," \u4e0e ",(0,l.kt)("inlineCode",{parentName:"li"},"resized_width")," \u662f\u7f29\u653e\u540e\u7684\u56fe\u7247\u9ad8\u5ea6\u4e0e\u5bbd\u5ea6")),(0,l.kt)("h2",{id:"imagemask"},"ImageMask"),(0,l.kt)("p",null,"import\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"from vkit.label.type import ImageMask\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ImageMask")," \u7528\u4e8e\u8868\u793a\u8499\u677f\uff08mask\uff09\u6807\u6ce8\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"@attr.define\nclass ImageMask:\n    mat: np.ndarray\n")),(0,l.kt)("p",null,"\u5176\u4e2d\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"mat"),"\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"ndim = 2")," \u4e14 ",(0,l.kt)("inlineCode",{parentName:"li"},"dtype = np.uint8"))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ImageMask")," \u7684\u5c5e\u6027\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"height"),"\uff1a\u9ad8\uff0c\u7c7b\u578b ",(0,l.kt)("inlineCode",{parentName:"li"},"int")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"width"),"\uff1a\u5bbd\uff0c\u7c7b\u578b ",(0,l.kt)("inlineCode",{parentName:"li"},"int")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"shape"),"\uff1a\uff08\u9ad8\uff0c\u5bbd\uff09\uff0c\u7c7b\u578b ",(0,l.kt)("inlineCode",{parentName:"li"},"Tuple[int, int]"))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ImageMask")," \u7684\u65b9\u6cd5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ImageMask.from_shape(height: int, width: int)"),"\uff1a\u4ece\u5f62\u72b6\u521d\u59cb\u5316 ",(0,l.kt)("inlineCode",{parentName:"li"},"ImageMask"),"\uff0c",(0,l.kt)("inlineCode",{parentName:"li"},"mat")," \u521d\u59cb\u5316\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"0")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ImageMask.from_shape_and_polygons(height: int, width: int, polygons: Iterable[Polygon], mode: ImageMaskPolygonsMergeMode = ImageMaskPolygonsMergeMode.UNION)"),"\uff1a\u4ece\u5f62\u72b6\u4e0e\u591a\u8fb9\u5f62\u521d\u59cb\u5316 ",(0,l.kt)("inlineCode",{parentName:"li"},"ImageMask"),"\u3002\u9ed8\u8ba4 ",(0,l.kt)("inlineCode",{parentName:"li"},"mode == ImageMaskPolygonsMergeMode.UNION")," \u65f6\uff0c\u5c06\u6240\u6709\u591a\u8fb9\u5f62\u533a\u57df\u8bbe\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"1"),"\uff1b\u5982\u679c  ",(0,l.kt)("inlineCode",{parentName:"li"},"mode == ImageMaskPolygonsMergeMode.DISTINCT"),"\uff0c\u53ea\u5c06\u975e\u76f8\u4ea4\u533a\u57df\u8bbe\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"1"),"\uff1b\u5982\u679c  ",(0,l.kt)("inlineCode",{parentName:"li"},"mode == ImageMaskPolygonsMergeMode.INTERSECTION"),"\uff0c\u53ea\u5c06\u91cd\u5408\u533a\u57df\u8bbe\u4e3a ",(0,l.kt)("inlineCode",{parentName:"li"},"1")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ImageMask.from_image_and_polygons(image: Image, polygons: Iterable[Polygon], mode: ImageMaskPolygonsMergeMode = ImageMaskPolygonsMergeMode.UNION)"),"\uff1a\u4e0e ",(0,l.kt)("inlineCode",{parentName:"li"},"ImageMask.from_shape_and_polygons")," \u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u4f1a\u91c7\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"image.shape")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.to_resized_image_mask(height: int, width: int, cv_resize_interpolation: int = cv.INTER_NEAREST_EXACT)"),"\uff1a\u7f29\u653e\u8499\u677f\u7684\u9ad8\u5ea6\u4e0e\u5bbd\u5ea6"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"self.clone()"),"\uff1a\u8fd4\u56de\u62f7\u8d1d")),(0,l.kt)("h2",{id:"imagescoremap"},"ImageScoreMap"),(0,l.kt)("p",null,"import\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"from vkit.label.type import ImageScoreMap\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ImageScoreMap")," \u7528\u4e8e\u8868\u793a\u8bc4\u5206\u56fe\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-python"},"@attr.define\nclass ImageScoreMap:\n    mat: np.ndarray\n")),(0,l.kt)("p",null,"\u5176\u4e2d\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"mat"),"\uff1a",(0,l.kt)("inlineCode",{parentName:"li"},"ndim = 2")," \u4e14 ",(0,l.kt)("inlineCode",{parentName:"li"},"dtype = np.float32"))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ImageScoreMap")," \u7684\u5c5e\u6027\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"height"),"\uff1a\u9ad8\uff0c\u7c7b\u578b ",(0,l.kt)("inlineCode",{parentName:"li"},"int")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"width"),"\uff1a\u5bbd\uff0c\u7c7b\u578b ",(0,l.kt)("inlineCode",{parentName:"li"},"int")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"shape"),"\uff1a\uff08\u9ad8\uff0c\u5bbd\uff09\uff0c\u7c7b\u578b ",(0,l.kt)("inlineCode",{parentName:"li"},"Tuple[int, int]"))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"ImageScoreMap")," \u7684\u65b9\u6cd5\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ImageScoreMap.from_image_mask(image_mask: ImageMask)"),"\uff1a\u4ece ",(0,l.kt)("inlineCode",{parentName:"li"},"ImageMask")," \u8f6c\u6362\u751f\u6210"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ImageScoreMap.from_shape_and_polygon_value_pairs(height: int, width: int, polygon_value_pairs: Iterable[Tuple[Polygon, float]])"),"\uff1a\u521d\u59cb\u5316\uff08\u9ad8\uff0c\u5bbd\uff09\u7684\u8bc4\u5206\u56fe\uff0c\u56fe\u4e2d\u7684\u591a\u8fb9\u5f62\u4f7f\u7528\u5bf9\u5e94\u7684\u8bc4\u5206\u8d4b\u503c"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ImageScoreMap.from_image_and_polygon_value_pairs(image: Image, polygon_value_pairs: Iterable[Tuple[Polygon, float]])"),"\uff1a\u4e0e ",(0,l.kt)("inlineCode",{parentName:"li"},"ImageScoreMap.from_shape_and_polygon_value_pairs")," \u7c7b\u4f3c\uff0c\u53ea\u4e0d\u8fc7\u4f1a\u91c7\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"image.shape"))))}s.isMDXComponent=!0}}]);